import{a as t,b as e,g as r,c as n}from"./theme.BxpiuCfN.js";import{f as i}from"./forward-ref-CEAiJPam.CJgQgBVW.js";import{f as s}from"./findAllLegitChildren-Sl0ls-UQ.D2jiw3b9.js";import{i as o}from"./isObject-Ji6uxU-v.fMJRnWEv.js";import{d as a}from"./error-DAO_9P5C.C0uiOAou.js";import"./uuid-BZTOj-_U.D3oPmf8g.js";import{u as l}from"./useNamespace-HoRSxEcr.Ve2NNMUK.js";import"./framework.N_gL8lMw.js";import"./isString-DaEH0FEg.BuzQwn6C.js";import"./toObjectString-D4ItlKpz.B_ykxbfz.js";const d="ZaneOnlyChild",c=class{constructor(e){t(this,e),this.debug=!1,this.strict=!1,this.findFirstLegitChild=t=>{const e=s(t),r=e.length;if(0===r)return[null,0];for(const n of e){if(o(n))switch(n.nodeType){case Node.COMMENT_NODE:continue;case Node.TEXT_NODE:return[this.wrapTextContent(n.textContent),r];case Node.DOCUMENT_FRAGMENT_NODE:return this.findFirstLegitChild(n);default:return[n,r]}return[this.wrapTextContent(n),r]}return[null,0]}}get forwardRefContext(){let t=this.el.parentElement,e=null;for(;t;){if("ZANE-FORWARD-REF"===t.tagName){e=i.get(t);break}t=t.parentElement}return e}componentDidLoad(){this.processChildren()}componentDidUpdate(){this.processChildren()}render(){return e(n,{key:"f09d1a7efd07fa9462d7bb0c0681a23f782f9e3c"})}processChildren(){var t;const[e,r]=this.findFirstLegitChild(this.el);if(!e)return a(d,"no valid child node found"),null;r>1&&a(d,"requires exact only one valid child."),null===(t=this.forwardRefContext)||void 0===t||t.setForwardRef(e),this.el.innerHTML="",this.el.append(e)}wrapTextContent(t){const e=l("only-child"),r=document.createElement("span");return r.className=e.e("content"),r.textContent=t,r}get el(){return r(this)}};export{c as zane_only_child};
