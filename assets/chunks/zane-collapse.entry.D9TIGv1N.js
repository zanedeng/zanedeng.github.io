import{a as e,d as a,b as t,c as o,g as s}from"./theme.BxpiuCfN.js";import{c as i}from"./collapse-vguOFti0.Cu2FP3Px.js";import{i as n}from"./isObject-Ji6uxU-v.fMJRnWEv.js";import{t as l,d as r}from"./error-DAO_9P5C.C0uiOAou.js";import"./uuid-BZTOj-_U.D3oPmf8g.js";import{u as c}from"./useNamespace-HoRSxEcr.Ve2NNMUK.js";import"./framework.N_gL8lMw.js";import"./isString-DaEH0FEg.BuzQwn6C.js";import"./toObjectString-D4ItlKpz.B_ykxbfz.js";function h(...e){if(!e.length)return[];const a=e[0];return Array.isArray(a)?a:[a]}const p=e=>"function"==typeof e,d=e=>(n(e)||p(e))&&p(e.then)&&p(e.catch);class m{constructor(){this._activeNames=[],this._activeNamesChangeListeners=[]}get activeNames(){return this._activeNames}addActiveNamesChangeListener(e){this._activeNamesChangeListeners.push(e)}removeActiveNamesChangeListener(e){const a=this._activeNamesChangeListeners.indexOf(e);-1!==a&&this._activeNamesChangeListeners.splice(a,1)}updateActiveNames(e){this._activeNames=e,this._activeNamesChangeListeners.forEach(e=>e())}}const z=c("collapse"),v="zane-collapse",g=class{constructor(t){e(this,t),this.zaneChange=a(this,"zChange",7),this.zaneUpdate=a(this,"zUpdate",7),this.expandIconPosition="right",this.value=[],this.handleChange=e=>{if(this.accordion)this.setActiveNames([this.activeNames[0]===e?"":e]);else{const a=[...this.activeNames],t=a.indexOf(e);-1===t?a.push(e):a.splice(t,1),this.setActiveNames(a)}},this.handleItemClick=async e=>{if(!this.beforeCollapse)return void this.handleChange(e);const a=this.beforeCollapse(e);var t;[(t=a,"boolean"==typeof t),d(a)].includes(!0)||l(v,"beforeCollapse must return type `Promise<boolean>` or `boolean`"),d(a)?a.then(a=>{!1!==a&&this.handleChange(e)}).catch(e=>{r(v,`some error occurred: ${e}`)}):a&&this.handleChange(e)}}get rootKls(){return[z.b(),z.b(`icon-position-${this.expandIconPosition}`)].join(" ")}componentWillLoad(){this.activeNames=h(this.value);const e=new m;e.handleItemClick=this.handleItemClick,e.updateActiveNames(this.activeNames),i.set(this.el,e)}disconnectedCallback(){i.delete(this.el)}onModelValueChange(){var e;this.activeNames=h(this.value),null===(e=i.get(this.el))||void 0===e||e.updateActiveNames(this.activeNames)}render(){return t(o,{key:"5e22fe183f769df905cb68338143bfaf2209a6a3",class:this.rootKls},t("slot",{key:"0110b8b8a254d2ab45c9e3583e8b4f7b0a51e029"}))}async setActiveNames(e){var a;this.activeNames=e;const t=this.accordion?this.activeNames[0]:this.activeNames;this.zaneUpdate.emit(t),this.zaneChange.emit(t),null===(a=i.get(this.el))||void 0===a||a.updateActiveNames(this.activeNames)}get el(){return s(this)}static get watchers(){return{value:[{onModelValueChange:0}]}}};g.style=".zane-collapse{--zane-collapse-border-color:var(--zane-border-color-lighter);--zane-collapse-header-height:48px;--zane-collapse-header-bg-color:var(--zane-fill-color-blank);--zane-collapse-header-text-color:var(--zane-text-color-primary);--zane-collapse-header-font-size:13px;--zane-collapse-content-bg-color:var(--zane-fill-color-blank);--zane-collapse-content-font-size:13px;--zane-collapse-content-text-color:var(--zane-text-color-primary);border-top:1px solid var(--zane-collapse-border-color);border-bottom:1px solid var(--zane-collapse-border-color)}.zane-collapse-item.is-disabled .zane-collapse-item__header{color:var(--zane-text-color-disabled);cursor:not-allowed}.zane-collapse-item .zane-collapse-item__header{width:100%;padding:0;border:none;display:flex;align-items:center;min-height:var(--zane-collapse-header-height);line-height:var(--zane-collapse-header-height);background-color:var(--zane-collapse-header-bg-color);color:var(--zane-collapse-header-text-color);cursor:pointer;border-bottom:1px solid var(--zane-collapse-border-color);font-size:var(--zane-collapse-header-font-size);font-weight:500;transition:border-bottom-color var(--zane-transition-duration);outline:none}.zane-collapse-item .zane-collapse-item__header .zane-collapse-item__arrow{transition:transform var(--zane-transition-duration);font-weight:300}.zane-collapse-item .zane-collapse-item__header .zane-collapse-item__arrow.is-active{transform:rotate(90deg)}.zane-collapse-item .zane-collapse-item__header .zane-collapse-item__title{text-align:left;flex:auto}.zane-collapse-item .zane-collapse-item__header.focusing:focus:not(:hover){color:var(--zane-color-primary)}.zane-collapse-item .zane-collapse-item__header.is-active{border-bottom-color:transparent}.zane-collapse-item .zane-collapse-item__wrap{will-change:height;background-color:var(--zane-collapse-content-bg-color);overflow:hidden;box-sizing:border-box;border-bottom:1px solid var(--zane-collapse-border-color);transition:height var(--zane-transition-duration)}.zane-collapse-item .zane-collapse-item__wrap.is-active{height:auto}.zane-collapse-item .zane-collapse-item__content{padding-bottom:25px;font-size:var(--zane-collapse-content-font-size);color:var(--zane-collapse-content-text-color);line-height:1.7692307692}.zane-collapse-item:last-child{margin-bottom:-1px}.zane-collapse-icon-position-left .zane-collapse-item__header{gap:8px}.zane-collapse-icon-position-left .zane-collapse-item__title{order:1}.zane-collapse-icon-position-right .zane-collapse-item__header{padding-right:8px}";export{g as zane_collapse};
