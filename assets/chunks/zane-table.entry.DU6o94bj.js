import{r as e,c as t,h as a,H as o,g as r}from"./theme.eWtBpPwT.js";import{l as i}from"./lodash-BTbln26t.B60hk6q5.js";import"./isLightOrDark-BA8k64HZ.6JRNAxc7.js";import"./framework.Dx8Iuwnd.js";function l(e){const t=["background","01","02"],a=e?t.indexOf(e):-1;return t[(a+1)%t.length]}const s=[{label:10,value:10},{label:25,value:25},{label:50,value:50},{label:100,value:100}],n=class{constructor(a){e(this,a),this.zaneCellClick=t(this,"zaneCellClick"),this.zanePage=t(this,"zanePage"),this.zaneSelectChange=t(this,"zaneSelectChange"),this.zaneSort=t(this,"zaneSort"),this.columns=[],this.data=[],this.emptyStateDescription="There are no items to display",this.emptyStateHeadline="No items",this.keyField="id",this.managed=!1,this.hoveredCell={},this.onCellMouseOver=i.throttle((e,t)=>{this.hoveredCell={column:t,row:e}},30),this.page=1,this.pageSize=10,this.paginate=!0,this.selectedRowKeys=[],this.sortable=!0,this.sortOrder="asc",this.isHorizontallyScrolled=!1,this.isSelectAll=!1,this.isSelectAllIntermediate=!1,this.onRowSelectClick=e=>{let t=[...this.selectedRowKeys];t.includes(e[this.keyField])?(this.isSelectAll=!1,t=t.filter(t=>t!==e[this.keyField])):t.push(e[this.keyField]),this.onSelectChange(t)},this.onSelectAllClick=()=>{let e=[];this.isSelectAll=!this.isSelectAll,this.isSelectAll&&(e=this.data.map(e=>e[this.keyField]).slice((this.page-1)*this.pageSize,this.page*this.pageSize)),this.onSelectChange(e)}}getTotalItems(){let e=this.totalItems;return this.paginate&&!this.managed&&(e=this.data.length),e}onCellClick(e,t,a){this.zaneCellClick.emit({altKey:a.altKey,column:t,ctrlKey:a.ctrlKey,metaKey:a.metaKey,record:e,shiftKey:a.shiftKey})}onSelectChange(e){this.selectedRowKeys=e,this.zaneSelectChange.emit({isSelectAll:this.isSelectAll,value:this.selectedRowKeys})}render(){return a(o,{key:"3743a132fa80cf3d9e25da4e9c90f2d651ee9caf"},a("div",{key:"dc41bf48db1abf4e90ebc9b0493b38f43792b04c",class:{"horizontal-scrolled":this.isHorizontallyScrolled,paginate:this.paginate,sortable:this.sortable,table:!0}},a("div",{key:"0d81621f2dc9b95410ccd19effa569bf1919035c",class:"table-scroll-container",onScroll:e=>{this.isHorizontallyScrolled=!!e.target.scrollLeft}},this.renderHeader(),this.data.length>0?this.renderBody():this.renderEmptyState()),a("div",{key:"6edd21db8b0388878da8fad6bbf807d443d5caa2",class:"table-footer"},this.renderPagination())))}renderBody(){const e=[];let t=[...this.data];return this.managed||(this.sortable&&this.sortBy&&(t=t.sort((e,t)=>e[this.sortBy]<t[this.sortBy]?"asc"===this.sortOrder?-1:1:e[this.sortBy]>t[this.sortBy]?"asc"===this.sortOrder?1:-1:0)),this.paginate&&(t=t.slice((this.page-1)*this.pageSize,this.page*this.pageSize))),t.forEach(t=>{const o=[],r=[];"checkbox"===this.selectionType&&o.push(a("div",{class:{center:!0,col:!0,"col-checkbox":!0}},a("div",{class:"col-content"},a("zane-checkbox",{class:"checkbox",layer:l(this.layer),"onZane-checkbox--change":()=>this.onRowSelectClick(t),value:this.selectedRowKeys.includes(t[this.keyField])})))),this.columns.forEach(e=>{let i=16;e.width&&(i=Number.parseInt(e.width));const l=a("div",{class:{col:!0,"col-hover":this.hoveredCell.row===t&&this.hoveredCell.column===e},onClick:a=>{"Range"!==window.getSelection().type&&this.onCellClick(t,e,a)},onKeyDown:e=>{if((e.ctrlKey||e.metaKey)&&"c"===e.key){const t=e.target;window.navigator.clipboard.writeText(t.innerText)}},onMouseOver:()=>{this.onCellMouseOver(t,e)},style:{width:`${i}rem`},tabindex:"1"},a("div",{class:"col-content"},e.template?a("div",{class:"col-template",innerHTML:e.template(t,e)}):a("div",{class:"col-text",title:null==t?void 0:t[e.name]},null==t?void 0:t[e.name])));e.fixed?o.push(l):r.push(l)}),e.push(a("div",{class:{row:!0,"row-hover":this.hoveredCell.row===t}},a("div",{class:"fixed-columns columns-container"},o),a("div",{class:"scrollable-columns columns-container"},r)))}),a("div",{class:"body"},e)}renderHeader(){const e=[],t=[];return"checkbox"===this.selectionType&&e.push(a("div",{class:"col col-checkbox center"},a("div",{class:"col-content"},a("zane-checkbox",{class:"checkbox",intermediate:this.isSelectAllIntermediate,layer:"01","onZane-checkbox--change":this.onSelectAllClick,value:this.isSelectAll})))),this.columns.forEach(o=>{let r=16;o.width&&(r=Number.parseInt(o.width));const i=a("div",{class:{col:!0,sort:this.sortBy===o.name},style:{width:`${r}rem`}},a("div",{class:"col-content"},a("div",{class:"col-text"},o.label),a("div",{class:"col-actions"},(()=>{if(!this.sortable)return;let e="arrows--vertical";return this.sortBy===o.name&&(e="asc"===this.sortOrder?"arrow--up":"arrow--down"),a("zane-button",{class:"col-action",color:"secondary","dark-mode-color":"white",icon:e,onClick:()=>{this.sortBy===o.name?"asc"===this.sortOrder?this.sortOrder="desc":this.sortBy=null:(this.sortBy=o.name,this.sortOrder="asc"),this.zaneSort.emit({sortBy:this.sortBy,sortOrder:this.sortOrder})},variant:"ghost"})})())));o.fixed?e.push(i):t.push(i)}),a("div",{class:"header"},a("div",{class:"row"},a("div",{class:"fixed-columns columns-container"},e),a("div",{class:"scrollable-columns columns-container"},t)))}renderPagination(){if(this.paginate)return a("div",{class:"pagination"},a("div",{class:"page-sizes-select"},a("zane-select",{class:"select",inline:!0,items:s,label:"Items per page:",layer:l(this.layer),"onZane-select--change":e=>{this.pageSize=e.detail.value,this.zanePage.emit({page:this.page,pageSize:this.pageSize})},placements:"top-start",value:this.pageSize})),a("div",{class:"pagination-item-count"},a("zane-text",{color:"secondary",inline:!0},this.pageSize*(this.page-1)," -"," ",Math.min(this.pageSize*this.page,this.getTotalItems())," of"," ",this.getTotalItems()," items")),a("div",{class:"pagination-right"},a("div",{class:"table-footer-right-content"},a("div",{class:"table-footer-right-content-pagination"},a("zane-button",{class:"arrows",color:"secondary","dark-mode-color":"light",disabled:1===this.page,icon:"arrow--left",onClick:()=>{this.page=this.page-1,this.zanePage.emit({page:this.page,pageSize:this.pageSize})},variant:"ghost"}),a("zane-button",{class:"arrows",color:"secondary","dark-mode-color":"light",disabled:this.pageSize*this.page>=this.getTotalItems(),icon:"arrow--right",onClick:()=>{this.page=this.page+1,this.zanePage.emit({page:this.page,pageSize:this.pageSize})},variant:"ghost"})))))}renderEmptyState(){return a("div",{class:"empty-table"},a("zane-empty-state",{class:"empty-state content-center",description:this.emptyStateDescription,headline:this.emptyStateHeadline}))}get elm(){return r(this)}};n.style='*{box-sizing:border-box}:host{font-family:var(--font-family-base, "IBM Plex Sans", "Helvetica Neue", arial, sans-serif)}::selection{color:var(--color-white, white);background:var(--color-primary, #0f62fe)}::-webkit-scrollbar{width:var(--scrollbar-width);height:var(--scrollbar-width)}::-webkit-scrollbar-track{background:#f1f1f1}::-webkit-scrollbar-thumb{background:#888}::-webkit-scrollbar-thumb :hover{background:#555}:host([hidden]){display:none}:host,:host([layer=background]){--field:var(--field-01, #f4f4f4);--layer:var(--layer-01, #f4f4f4);--layer-hover:var(--layer-hover-01, #e8e8e8);--layer-accent:var(--layer-accent-01, #e0e0e0);--layer-selected:var(--layer-selected-01, #e0e0e0);--layer-selected-hover:var(--layer-selected-hover-01, #d1d1d1);--field-hover:var(--field-hover-01, #e8e8e8);--border-strong:var(--border-strong-01, #8d8d8d);--border-subtle:var(--border-subtle-00, #e0e0e0)}:host([layer="01"]){--field:var(--field-02, white);--layer:var(--layer-02, white);--layer-hover:var(--layer-hover-02, #e8e8e8);--layer-accent:var(--layer-accent-02, #e0e0e0);--layer-selected:var(--layer-selected-02, #e0e0e0);--layer-selected-hover:var(--layer-selected-hover-02, #d1d1d1);--field-hover:var(--field-hover-02, #e8e8e8);--border-strong:var(--border-strong-02, #8d8d8d);--border-subtle:var(--border-subtle-01, #e0e0e0)}:host([layer="02"]){--field:var(--field-03, #f4f4f4);--layer:var(--layer-03, #f4f4f4);--layer-hover:var(--layer-hover-03, #e8e8e8);--layer-accent:var(--layer-accent-03, #e0e0e0);--layer-selected:var(--layer-selected-03, #e0e0e0);--layer-selected-hover:var(--layer-selected-hover-03, #d1d1d1);--field-hover:var(--field-hover-03, #e8e8e8);--border-strong:var(--border-strong-03, #8d8d8d);--border-subtle:var(--border-subtle-02, #e0e0e0)}.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;border:0;clip:rect(0, 0, 0, 0)}.center-content{display:flex;align-items:center;justify-content:center}.skeleton{position:relative;padding:0;pointer-events:none;background:var(--skeleton-background, #e8e8e8);border:none;box-shadow:none}.skeleton::before{position:absolute;inline-size:100%;block-size:100%;content:"";background:var(--skeleton-element, #c6c6c6);animation:3000ms ease-in-out skeleton infinite;will-change:transform-origin, transform, opacity}@keyframes skeleton{0%{opacity:0.3;transform:scaleX(0);transform-origin:left}20%{opacity:1;transform:scaleX(1);transform-origin:left}28%{transform:scaleX(1);transform-origin:right}51%{transform:scaleX(0);transform-origin:right}58%{transform:scaleX(0);transform-origin:right}82%{transform:scaleX(1);transform-origin:right}83%{transform:scaleX(1);transform-origin:left}96%{transform:scaleX(0);transform-origin:left}100%{opacity:0.3;transform:scaleX(0);transform-origin:left}}:host{--zane-table-border-color:var(--border-subtle, );--zane-table-border:1px solid var(--zane-table-border-color);--zane-col-content-padding:var(--spacing-04, 0.75rem)\n    var(--spacing-05, 1rem);display:block;height:100%;min-height:20em}.table{display:flex;flex-direction:column;height:100%;background:var(--layer);font-family:var(---font-family, var(--body-compact-01-font-family, IBM Plex Sans, Helvetica Neue, arial, sans-serif));font-size:var(---font-size, var(--body-compact-01-font-size, 0.875rem));font-weight:var(---font-weight, var(--body-compact-01-font-weight, 400));line-height:var(---line-height, var(--body-compact-01-line-height, 1.125rem));letter-spacing:var(---letter-spacing, var(--body-compact-01-letter-spacing, 0.16px))}.table .table-scroll-container{position:relative;height:100%;overflow:auto}.table .empty-table{display:flex;align-items:center;justify-content:center;height:80%}.table .empty-table .empty-state{width:10rem}.table .pagination{--input-background-color:var(--layer);display:flex;background:var(--layer);border-top:1px solid var(--zane-table-border-color)}.table .pagination .form-control{margin:0}.table .pagination .select{--input-border-radius:none;--input-border:none;--input-border-inline-start:1px solid var(--zane-table-border-color);--input-border-inline-end:1px solid var(--zane-table-border-color);margin:0}.table .pagination .page-sizes-select{margin-inline-start:var(--spacing-03, 0.5rem)}.table .pagination .pagination-item-count{display:flex;flex:1;align-items:center;margin-inline-start:var(--spacing-04, 0.75rem)}.table .pagination .arrows{--border-radius:0;--zane-button-height:calc(2.5rem - 2px)}.table.horizontal-scrolled .fixed-columns::after{position:absolute;top:0;right:-20px;width:20px;height:100%;content:" ";box-shadow:10px 0 20px -20px v(--border-color) inset}.row{box-sizing:border-box;display:flex}.row .columns-container{display:flex}.row .col{margin:0;color:var(--text-primary)}.row .col .col-content{display:flex;align-items:center;height:100%}.row .col .col-content .col-text{flex:1;padding:var(--zane-col-content-padding);overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.row .col .col-content .col-template{width:100%}.row .col .col-content .col-action{--zane-button-border-radius:none}.row .col .col-content .col-action.has-focus{z-index:12}.row .col .col-content .checkbox{padding:0 var(--spacing-03)}.row .col.center .col-content{justify-content:center}.row .col:last-child{flex:1}.row .fixed-columns{position:sticky;left:0;z-index:1}.row .scrollable-columns{flex:1;}.header{position:sticky;top:0;z-index:var(--z-index-table-header, 30);font-family:var(---font-family, var(--heading-compact-01-font-family, IBM Plex Sans, Helvetica Neue, arial, sans-serif));font-size:var(---font-size, var(--heading-compact-01-font-size, 0.875rem));font-weight:var(---font-weight, var(--heading-compact-01-font-weight, 600));line-height:var(---line-height, var(--heading-compact-01-line-height, 1.125rem));letter-spacing:var(---letter-spacing, var(--heading-compact-01-letter-spacing, 0.16px))}.header .left-panel{position:sticky;top:0;left:0}.header .col{background:var(--layer-accent)}.header .col.sort{background:var(--layer-selected-hover)}.body .row .col{cursor:pointer;background:var(--layer);border-bottom:1px solid var(--layer-accent)}.body .row .col.col-checkbox .col-content{border:0}.body .row .col .col-content{border:2px solid transparent;border-bottom:1px solid transparent}.body .row .col .col-content .col-text{text-wrap:wrap}.body .row .col:focus{z-index:1;outline:none;border-bottom-color:var(--color-primary, #0f62fe)}.body .row .col:focus .col-content{border-color:var(--color-primary, #0f62fe)}.body .row:hover .col{background-color:var(--layer-hover)}.body .left-panel{position:sticky;left:0}:host-context(.no-wrap-column) .row .col .col-content .col-text{text-wrap:nowrap}.empty-data{position:absolute;inset:46px 0 0;height:max-content;margin:auto;color:var(--color-neutral-600, );text-align:center;border-radius:3px}';export{n as zane_table};
