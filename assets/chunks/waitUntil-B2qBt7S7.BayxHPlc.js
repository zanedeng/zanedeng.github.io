function e(e,r={}){return new Promise((t,n)=>{const s=document.createElement("script");if(s.src=e,r.async&&(s.async=!0),r.defer&&(s.defer=!0),r.integrity&&(s.integrity=r.integrity),r.crossOrigin&&(s.crossOrigin=r.crossOrigin),r.attrs)for(const[e,c]of Object.entries(r.attrs))s.setAttribute(e,c);const o=()=>{t(),a()},i=()=>{n(new Error(`Failed to load script: ${e}`)),a()};s.addEventListener("load",o),s.addEventListener("error",i),document.head.append(s);const a=()=>{s.removeEventListener("load",o),s.removeEventListener("error",i),s.parentNode&&s.remove()}})}async function r(e,r=300){return await new Promise(t=>{const n=setInterval(()=>{e()&&(t(1),clearInterval(n))},r)})}export{e as l,r as w};
